(()=>{var e={};e.id=461,e.ids=[461,888,660],e.modules={7769:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>g,default:()=>m,getServerSideProps:()=>p,getStaticPaths:()=>u,getStaticProps:()=>h,reportWebVitals:()=>j,routeModule:()=>S,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>f});var a=s(7093),l=s(5244),i=s(1323),c=s(2899),n=s.n(c),o=s(5481),d=s(5068),x=e([d]);d=(x.then?(await x)():x)[0];let m=(0,i.l)(d,"default"),h=(0,i.l)(d,"getStaticProps"),u=(0,i.l)(d,"getStaticPaths"),p=(0,i.l)(d,"getServerSideProps"),g=(0,i.l)(d,"config"),j=(0,i.l)(d,"reportWebVitals"),f=(0,i.l)(d,"unstable_getStaticProps"),b=(0,i.l)(d,"unstable_getStaticPaths"),N=(0,i.l)(d,"unstable_getStaticParams"),v=(0,i.l)(d,"unstable_getServerProps"),y=(0,i.l)(d,"unstable_getServerSideProps"),S=new a.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/shopping_cart",pathname:"/shopping_cart",bundlePath:"",filename:""},components:{App:o.default,Document:n()},userland:d});r()}catch(e){r(e)}})},3302:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(997);s(6689);let a=({item:e})=>{let{cart_item:t,product:s}=e,a=s.product_price?parseFloat(s.product_price):0,l=t.purchase_quantity||0,i=(a*l).toFixed(2);return(0,r.jsxs)("tr",{className:"border-b",children:[r.jsx("td",{className:"py-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("img",{src:s.product_image_url,alt:s.product_name,className:"w-16 h-16 rounded-md"}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:s.product_name}),r.jsx("p",{className:"text-sm text-gray-600",children:t.color}),r.jsx("p",{className:"text-sm text-gray-600",children:t.size})]})]})}),(0,r.jsxs)("td",{className:"text-center",children:["Rp ",a.toFixed(2)]}),r.jsx("td",{className:"text-center",children:r.jsx("div",{className:"flex items-center justify-center space-x-2",children:r.jsx("span",{children:l})})}),(0,r.jsxs)("td",{className:"text-center",children:["Rp ",i]})]})}},1390:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s(997),a=s(6689);let l=({onSearch:e})=>{let[t,s]=(0,a.useState)("");return(0,r.jsxs)("div",{className:"flex justify-center",children:[r.jsx("input",{type:"text",value:t,onChange:e=>{s(e.target.value)},className:"w-full max-w-lg p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search for products and stores..."}),r.jsx("button",{onClick:()=>{e(t)},className:"ml-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Search"})]})}},5481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(997);s(9605);var a=s(6689),l=s.n(a),i=s(1664),c=s.n(i),n=s(1390);let o=()=>r.jsx("header",{className:"bg-gray-100",children:(0,r.jsxs)("div",{className:"w-[1200px] mx-auto h-[60px] flex items-center justify-between border-b border-gray-200 bg-white",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"App Name"}),(0,r.jsxs)("nav",{className:"flex space-x-6 text-gray-600",children:[r.jsx(c(),{href:"/",className:"hover:text-gray-800",children:"Home"}),r.jsx("div",{className:"relative group",children:(0,r.jsxs)(c(),{href:"/products",className:"hover:text-gray-800 flex items-center",children:["Product ",r.jsx("i",{className:"fas fa-chevron-down ml-1 text-xs"})]})}),r.jsx(c(),{href:"/shopping_cart",className:"hover:text-gray-800",children:"Shopping Cart"}),r.jsx(c(),{href:"#",className:"hover:text-gray-800",children:"Blog"}),r.jsx(c(),{href:"#",className:"hover:text-gray-800",children:"Contact"}),r.jsx(c(),{href:"#",className:"hover:text-gray-800",children:"Pages"})]})]}),r.jsx(n.Z,{}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-blue-600",children:[r.jsx(c(),{href:"/register",className:"hover:underline",children:"Login / Register"}),r.jsx(c(),{href:"#",className:"text-gray-500 hover:text-blue-600",children:r.jsx("i",{className:"fas fa-search"})}),r.jsx(c(),{href:"#",className:"text-gray-500 hover:text-blue-600",children:r.jsx("i",{className:"fas fa-shopping-cart"})}),r.jsx(c(),{href:"#",className:"text-gray-500 hover:text-blue-600",children:r.jsx("i",{className:"fas fa-heart"})})]})]})});class d extends l().Component{render(){return(0,r.jsxs)("div",{className:"flex-1 px-4",children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:this.props.title}),r.jsx("ul",{children:this.props.items.map((e,t)=>r.jsx("li",{className:"mb-2",children:e},t))})]})}}class x extends l().Component{render(){return r.jsx("div",{className:"mt-8 text-center",children:r.jsx("p",{className:"text-sm text-gray-600",children:"Description anything"})})}}class m extends l().Component{render(){return(0,r.jsxs)("footer",{className:"bg-gray-100 p-10",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"App Name"}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx("a",{href:"#",className:"text-blue-600",children:r.jsx("i",{className:"fab fa-facebook-f"})}),r.jsx("a",{href:"#",className:"text-pink-600",children:r.jsx("i",{className:"fab fa-instagram"})}),r.jsx("a",{href:"#",className:"text-blue-400",children:r.jsx("i",{className:"fab fa-twitter"})})]})]}),r.jsx(d,{title:"Company Info",items:["About Us","Carrier","We are hiring","Blog"]}),r.jsx(d,{title:"Legal",items:["About Us","Carrier","We are hiring","Blog"]}),r.jsx(d,{title:"Features",items:["Business Marketing","User Analytic","Live Chat","Unlimited Support"]}),r.jsx(d,{title:"Resources",items:["IOS & Android","Watch a Demo","Customers","API"]}),(0,r.jsxs)("div",{className:"flex-1 px-4",children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Get In Touch"}),(0,r.jsxs)("form",{className:"flex mb-4",children:[r.jsx("input",{type:"email",placeholder:"Your Email",className:"p-2 border border-gray-300 rounded-l-md flex-grow"}),r.jsx("button",{type:"submit",className:"p-2 bg-blue-500 text-white rounded-r-md",children:"Subscribe"})]}),r.jsx("p",{className:"text-gray-600",children:"Lorem ipsum dolor amit."})]})]}),r.jsx(x,{})]})}}let h=function({Component:e,pageProps:t}){return(0,r.jsxs)(r.Fragment,{children:[r.jsx(o,{}),r.jsx(e,{...t}),r.jsx(m,{})]})}},5068:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>d});var a=s(997),l=s(6689),i=s(3302),c=s(9648),n=s(1163),o=e([c]);c=(o.then?(await o)():o)[0];let d=()=>{let[e,t]=(0,l.useState)([]),[s,r]=(0,l.useState)(!0),[o,d]=(0,l.useState)("Delivery"),[x,m]=(0,l.useState)(5e3),h=(0,n.useRouter)();(0,l.useEffect)(()=>{(async()=>{try{let e=sessionStorage.getItem("access_token");console.log("Fetching cart items with token:",e);let s=await c.default.get("http://127.0.0.1:5000/cart/item",{headers:{Authorization:`Bearer ${e}`}});console.log("Fetched cart items:",s.data),t(s.data)}catch(e){console.error("Error fetching cart items:",e)}finally{r(!1)}})()},[]);let u=async()=>{let e=sessionStorage.getItem("access_token");if(!e){h.push("/login");return}try{let t=await c.default.post("http://127.0.0.1:5000/orders",{delivery_method:o},{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});console.log("Order created:",t.data);let s=t.data.order_id,r=t.data.total_amount;sessionStorage.setItem("order_id",s),sessionStorage.setItem("total_amount",r),h.push("/checkout")}catch(e){console.error("Error during checkout:",e)}};if(s)return console.log("Loading cart items..."),a.jsx("div",{children:"Loading..."});if(!e||0===e.length||e.message)return console.log("Cart is empty or contains a message:",e),a.jsx("div",{children:e.message||"Your cart is empty"});let p=e.reduce((e,t)=>e+parseFloat(t.product.product_price)*t.cart_item.purchase_quantity,0);return a.jsx("div",{className:"max-w-3xl mx-auto py-12",children:(0,a.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[a.jsx("div",{className:"text-xl font-semibold mb-4",children:"Shopping Cart"}),(0,a.jsxs)("table",{className:"min-w-full border-collapse",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"font-semibold text-gray-700 border-b",children:[a.jsx("th",{className:"py-2 text-left",children:"Product Details"}),a.jsx("th",{className:"py-2 text-center",children:"Price"}),a.jsx("th",{className:"py-2 text-center",children:"Quantity"}),a.jsx("th",{className:"py-2 text-center",children:"Subtotal"})]})}),a.jsx("tbody",{children:e.map(e=>a.jsx(i.Z,{item:e},e.cart_item.cart_item_id))})]}),(0,a.jsxs)("div",{className:"mt-6",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Discount Codes"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[a.jsx("input",{type:"text",className:"flex-1 border rounded p-2",placeholder:"Enter your coupon code"}),a.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Apply Coupon"})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Shipping Method"}),(0,a.jsxs)("select",{value:o,onChange:e=>{let t=e.target.value;d(t),m("Pickup"===t?0:5e3)},className:"border rounded p-2 w-full",children:[a.jsx("option",{value:"Pickup",children:"Pickup"}),a.jsx("option",{value:"Delivery",children:"Delivery"})]})]}),(0,a.jsxs)("div",{className:"border-t mt-6 pt-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-lg font-medium",children:[a.jsx("p",{children:"Sub Total"}),(0,a.jsxs)("p",{children:["Rp ",p.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-lg font-medium",children:[a.jsx("p",{children:"Shipping"}),(0,a.jsxs)("p",{children:["Rp ",x.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-lg font-semibold",children:[a.jsx("p",{children:"Grand Total"}),(0,a.jsxs)("p",{children:["Rp ",(p+x).toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-6",children:[a.jsx("button",{className:"text-blue-500 hover:text-blue-700",children:"Continue Shopping"}),a.jsx("button",{onClick:u,className:"bg-green-500 text-white px-6 py-3 rounded",children:"Proceed To Checkout"})]})]})})};r()}catch(e){r(e)}})},9605:()=>{},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9648:e=>{"use strict";e.exports=import("axios")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[117,899,664,342],()=>s(7769));module.exports=r})();