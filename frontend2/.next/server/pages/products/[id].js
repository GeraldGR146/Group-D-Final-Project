(()=>{var e={};e.id=304,e.ids=[304,888,660],e.modules={3081:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>f,default:()=>h,getServerSideProps:()=>p,getStaticPaths:()=>x,getStaticProps:()=>m,reportWebVitals:()=>g,routeModule:()=>w,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>j});var a=s(7093),i=s(5244),l=s(1323),c=s(2899),n=s.n(c),o=s(5481),d=s(6267),u=e([d]);d=(u.then?(await u)():u)[0];let h=(0,l.l)(d,"default"),m=(0,l.l)(d,"getStaticProps"),x=(0,l.l)(d,"getStaticPaths"),p=(0,l.l)(d,"getServerSideProps"),f=(0,l.l)(d,"config"),g=(0,l.l)(d,"reportWebVitals"),j=(0,l.l)(d,"unstable_getStaticProps"),b=(0,l.l)(d,"unstable_getStaticPaths"),v=(0,l.l)(d,"unstable_getStaticParams"),y=(0,l.l)(d,"unstable_getServerProps"),N=(0,l.l)(d,"unstable_getServerSideProps"),w=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/products/[id]",pathname:"/products/[id]",bundlePath:"",filename:""},components:{App:o.default,Document:n()},userland:d});r()}catch(e){r(e)}})},1390:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(997),a=s(6689);let i=({onSearch:e})=>{let[t,s]=(0,a.useState)("");return(0,r.jsxs)("div",{className:"flex justify-center",children:[r.jsx("input",{type:"text",value:t,onChange:e=>{s(e.target.value)},className:"w-full max-w-lg p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search for products and stores..."}),r.jsx("button",{onClick:()=>{e(t)},className:"ml-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Search"})]})}},3343:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});class r{constructor(e,t,s,r,a,i,l){this.id=e,this.name=t,this.description=s,this.price=r,this.quantity=a,this.product_type=i,this.image_url=l}static fromJson(e){return new r(e.product_id,e.name,e.description,e.price,e.quantity,e.product_type,e.image_url)}}class a{static async fetchAllProducts(){let e=await fetch("http://127.0.0.1:5000/products");return(await e.json()).map(r.fromJson)}static async fetchProductById(e){let t=await fetch(`http://127.0.0.1:5000/products/${e}`),s=await t.json();return r.fromJson(s)}static async fetchProductFilter(){let e=await fetch("http://127.0.0.1:5000/products/filter");return(await e.json()).map(r.fromJson)}}let i=a},5300:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});class r{constructor(e,t,s,r,a){this.id=e,this.productId=t,this.rating=s,this.comment=r,this.createdAt=a}static fromJson(e){return new r(e.id,e.productId,e.rating,e.comment,e.createdAt)}}class a{static async createReview(e,t,s,a){let i=await fetch(`http://127.0.0.1:5000/products/${e}/reviews`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({rating:t,comment:s})}),l=await i.json();return r.fromJson(l)}static async getReviews(e,t){let s=await fetch(`http://127.0.0.1:5000/products/${e}/reviews`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});return(await s.json()).map(r.fromJson)}static async updateReview(e,t,s,a,i){let l=await fetch(`http://127.0.0.1:5000/products/${e}/reviews/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({rating:s,comment:a})}),c=await l.json();return r.fromJson(c)}static async deleteReview(e,t,s){let r=await fetch(`http://127.0.0.1:5000/products/${e}/reviews/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${s}`}});return await r.json()}}let i=a},2598:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(997),a=s(6689);let i=({productId:e,onSubmit:t})=>{let[s,i]=(0,a.useState)(0),[l,c]=(0,a.useState)("");return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({rating:s,comment:l})},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("label",{className:"text-gray-700 mr-4",children:"Rating:"}),r.jsx("select",{value:s,onChange:e=>i(e.target.value),className:"border rounded px-2 py-1",children:[1,2,3,4,5].map(e=>(0,r.jsxs)("option",{value:e,children:[e," Star",e>1&&"s"]},e))})]}),r.jsx("textarea",{value:l,onChange:e=>c(e.target.value),className:"w-full border rounded p-2",placeholder:"Write your review..."}),r.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Submit Review"})]})}},7684:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(997);s(6689);let a=({reviews:e})=>(0,r.jsxs)("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Customer Reviews"}),0===e.length?r.jsx("p",{children:"No reviews yet."}):e.map(e=>(0,r.jsxs)("div",{className:"border-b pb-4 mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[r.jsx("span",{className:"text-yellow-500",children:"â˜…".repeat(e.rating)}),r.jsx("span",{className:"ml-2 text-gray-600",children:new Date(e.createdAt).toLocaleDateString()})]}),r.jsx("p",{children:e.comment})]},e.id))]})},5481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(997);s(9605);var a=s(6689),i=s.n(a),l=s(1664),c=s.n(l),n=s(1390);let o=()=>r.jsx("header",{className:"bg-gray-100",children:(0,r.jsxs)("div",{className:"w-[1200px] mx-auto h-[60px] flex items-center justify-between border-b border-gray-200 bg-white",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"App Name"}),(0,r.jsxs)("nav",{className:"flex space-x-6 text-gray-600",children:[r.jsx(c(),{href:"/",className:"hover:text-gray-800",children:"Home"}),r.jsx("div",{className:"relative group",children:(0,r.jsxs)(c(),{href:"/products",className:"hover:text-gray-800 flex items-center",children:["Product ",r.jsx("i",{className:"fas fa-chevron-down ml-1 text-xs"})]})}),r.jsx(c(),{href:"/shopping_cart",className:"hover:text-gray-800",children:"Shopping Cart"}),r.jsx(c(),{href:"#",className:"hover:text-gray-800",children:"Blog"}),r.jsx(c(),{href:"#",className:"hover:text-gray-800",children:"Contact"}),r.jsx(c(),{href:"#",className:"hover:text-gray-800",children:"Pages"})]})]}),r.jsx(n.Z,{}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-blue-600",children:[r.jsx(c(),{href:"/register",className:"hover:underline",children:"Login / Register"}),r.jsx(c(),{href:"#",className:"text-gray-500 hover:text-blue-600",children:r.jsx("i",{className:"fas fa-search"})}),r.jsx(c(),{href:"#",className:"text-gray-500 hover:text-blue-600",children:r.jsx("i",{className:"fas fa-shopping-cart"})}),r.jsx(c(),{href:"#",className:"text-gray-500 hover:text-blue-600",children:r.jsx("i",{className:"fas fa-heart"})})]})]})});class d extends i().Component{render(){return(0,r.jsxs)("div",{className:"flex-1 px-4",children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:this.props.title}),r.jsx("ul",{children:this.props.items.map((e,t)=>r.jsx("li",{className:"mb-2",children:e},t))})]})}}class u extends i().Component{render(){return r.jsx("div",{className:"mt-8 text-center",children:r.jsx("p",{className:"text-sm text-gray-600",children:"Description anything"})})}}class h extends i().Component{render(){return(0,r.jsxs)("footer",{className:"bg-gray-100 p-10",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"App Name"}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx("a",{href:"#",className:"text-blue-600",children:r.jsx("i",{className:"fab fa-facebook-f"})}),r.jsx("a",{href:"#",className:"text-pink-600",children:r.jsx("i",{className:"fab fa-instagram"})}),r.jsx("a",{href:"#",className:"text-blue-400",children:r.jsx("i",{className:"fab fa-twitter"})})]})]}),r.jsx(d,{title:"Company Info",items:["About Us","Carrier","We are hiring","Blog"]}),r.jsx(d,{title:"Legal",items:["About Us","Carrier","We are hiring","Blog"]}),r.jsx(d,{title:"Features",items:["Business Marketing","User Analytic","Live Chat","Unlimited Support"]}),r.jsx(d,{title:"Resources",items:["IOS & Android","Watch a Demo","Customers","API"]}),(0,r.jsxs)("div",{className:"flex-1 px-4",children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Get In Touch"}),(0,r.jsxs)("form",{className:"flex mb-4",children:[r.jsx("input",{type:"email",placeholder:"Your Email",className:"p-2 border border-gray-300 rounded-l-md flex-grow"}),r.jsx("button",{type:"submit",className:"p-2 bg-blue-500 text-white rounded-r-md",children:"Subscribe"})]}),r.jsx("p",{className:"text-gray-600",children:"Lorem ipsum dolor amit."})]})]}),r.jsx(u,{})]})}}let m=function({Component:e,pageProps:t}){return(0,r.jsxs)(r.Fragment,{children:[r.jsx(o,{}),r.jsx(e,{...t}),r.jsx(h,{})]})}},6267:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>m});var a=s(997),i=s(6689),l=s(1163),c=s(3343),n=s(5300),o=s(2598),d=s(7684),u=s(9648),h=e([u]);u=(h.then?(await h)():h)[0];let m=()=>{let[e,t]=(0,i.useState)(null),[s,r]=(0,i.useState)([]),h=(0,l.useRouter)(),{id:m}=h.query,x=new n.Z("http://127.0.0.1:5000");(0,i.useEffect)(()=>{if(m){let e=async()=>{try{let e=await c.Z.fetchProductById(m);t(e)}catch(e){console.error("Failed to fetch product:",e)}},s=async()=>{try{let e=await x.getReviews(m);r(e)}catch(e){console.error("Failed to fetch reviews:",e)}};e(),s()}},[m]);let p=async({rating:e,comment:t})=>{let a=sessionStorage.getItem("access_token");if(!a){h.push("/login");return}let i=await x.createReview(m,e,t,a);r([i,...s])},f=async e=>{let t=sessionStorage.getItem("access_token");if(!t){h.push("/login");return}let s={product_id:e.id,quantity:1};try{let e=await u.default.post("http://127.0.0.1:5000/cart/item",s,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});console.log("Item added to cart:",e.data),sessionStorage.removeItem("product_id"),h.push("/shopping_cart")}catch(e){console.error("Failed to add item to cart:",e)}};return e?(0,a.jsxs)("div",{className:"container mx-auto p-4",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row",children:[a.jsx("img",{src:e.image_url,alt:e.name,className:"w-full md:w-1/2 h-64 object-cover rounded-lg"}),(0,a.jsxs)("div",{className:"md:ml-4",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:e.name}),a.jsx("p",{className:"text-gray-700 mb-4",children:e.description}),(0,a.jsxs)("p",{className:"text-gray-900 font-semibold text-xl mb-4",children:["Rp ",e.price]}),(0,a.jsxs)("p",{className:"text-gray-700",children:["Available Quantity: ",e.quantity]}),a.jsx("button",{onClick:()=>f(e),className:"mt-4 bg-black text-white px-4 py-2 rounded",children:"Add to Cart"})]})]}),a.jsx(o.Z,{productId:m,onSubmit:p}),a.jsx(d.Z,{reviews:s})]}):a.jsx("div",{children:"Loading..."})};r()}catch(e){r(e)}})},9605:()=>{},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9648:e=>{"use strict";e.exports=import("axios")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[117,899,664,342],()=>s(3081));module.exports=r})();